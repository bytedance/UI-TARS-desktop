import { VideoPanel } from '@components/VideoPanel';

# Workspace

在 Agent TARS 的本地使用场景中，当前能够允许操作 File System 的目录即为 Workspace。

## 默认设定

为了避免影响你本地的文件系统，Workspace 的默认值为 `$pwd/agent-tars-workspace`，相当于增加了一层隔离，当你问 Agent TARS 能看到哪些文件：

```text
What files you can see?
```

因为是一个临时的目录，首次运行会为空：

![](/list-files.png)


## Custom Workspace

你可以通过 [CLI](./cli.mdx) 的 `--workspace` 参数来指定，如显示指定在当前目录：

```bash
agent-tars --workspace=./
```

假设当前目录为 [UI-TARS-desktop](https://github.com/bytedance/UI-TARS-desktop) 仓库，你将会看到如下输出：

![](/list-files-custom-workspace.png)


## 手动配置管理

为了在不同项目间保持配置一致性，你可以使用几种方法手动管理配置文件：

### 项目特定配置

直接在项目目录中创建配置文件：

```typescript
// ./tarko.config.ts
import { AgentAppConfig } from '@tarko/interface';

const config: AgentAppConfig = {
  model: {
    provider: 'openai',
    id: 'gpt-4o',
    apiKey: process.env.OPENAI_API_KEY, // 推荐使用环境变量
  },
};

export default config;
```

### 共享配置文件

创建共享配置文件并使用 `--config` 标志引用：

```bash
# 创建共享配置
mkdir -p ~/configs
cat > ~/configs/tarko.config.ts << 'EOF'
import { AgentAppConfig } from '@tarko/interface';

const config: AgentAppConfig = {
  model: {
    provider: 'openai',
    id: 'gpt-4o',
    apiKey: process.env.OPENAI_API_KEY,
  },
};

export default config;
EOF

# 使用共享配置
tarko --config ~/configs/tarko.config.ts
```

### 环境变量

设置环境变量以保持模型提供商凭据的一致性：

```bash
# 添加到你的 shell 配置文件（.bashrc, .zshrc 等）
export OPENAI_API_KEY="your-api-key"
export ANTHROPIC_API_KEY="your-anthropic-key"

# 在配置中使用环境变量
tarko --model.provider openai --model.apiKey $OPENAI_API_KEY
```

### CLI 配置覆盖

为每次执行覆盖特定设置：

```bash
# 覆盖模型提供商
tarko --model.provider anthropic --model.id claude-3-5-sonnet-20241022

# 覆盖工作区
tarko --workspace ./my-project-workspace

# 组合多个覆盖
tarko --workspace ./data --model.provider openai --model.id gpt-4
```

## FAQ

### 我可以有多个配置吗？

是的！你可以为不同的项目或用例创建不同的配置文件：

- **项目特定配置**：在每个项目目录中创建 `tarko.config.{ts,yaml,json}`
- **共享配置**：创建多个配置文件并使用 `--config` 引用它们
- **基于环境的配置**：使用环境变量在不同设置间切换

### 如何更新我的配置？

只需使用任何文本编辑器编辑配置文件。如果你使用 TypeScript，请确保首先安装必要的依赖项：

```bash
npm install @tarko/interface
```

### 我可以与其他人共享我的配置吗？

是的！配置文件可以使用 Git 或任何其他版本控制系统共享。只需确保：

- 对敏感信息（如 API 密钥）使用环境变量
- 在 README 中记录所需的环境变量
- 考虑为其他人创建模板配置文件以供复制

### 如何指定不同的 API 密钥或模型提供商？

你有几个选择：

1. **环境变量**（推荐）：
```bash
export OPENAI_API_KEY="your-key"
tarko --model.provider openai
```

2. **CLI 覆盖**：
```bash
tarko --model.provider openai --model.apiKey YOUR_API_KEY
```

3. **配置文件**：
```typescript
// tarko.config.ts
export default {
  model: {
    provider: 'openai',
    apiKey: process.env.OPENAI_API_KEY,
  },
};
```

### 如何在 CI/CD 管道中使用配置？

对于持续集成环境：

1. **创建项目特定配置**：将 `tarko.config.{ts,yaml,json}` 添加到你的仓库
2. **使用环境变量**：将 API 密钥和其他机密设置为 CI 环境变量
3. **显式工作区**：始终指定 `--workspace` 来控制文件操作

```bash
# CI 命令示例
tarko --workspace ./ci-workspace --model.apiKey $CI_OPENAI_API_KEY
```
