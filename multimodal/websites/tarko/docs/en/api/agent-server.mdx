---
title: Agent Server API
description: Complete API reference for Tarko Agent Server
---

# Agent Server API

Complete API reference for the Tarko Agent Server.

## Runtime Settings

Runtime Settings allow users to configure Agent behavior dynamically during execution without restarting the server. These settings provide a flexible way to adjust Agent parameters through the UI.

### AgentRuntimeSettings

The main interface for defining runtime settings configuration.

```typescript
interface AgentRuntimeSettings {
  schema: AgentRuntimeSettingsSchema;
  transform?: (runtimeSettings: any) => any;
  placement?: 'dropdown-item' | 'chat-bottom';
}
```

#### Properties

- **`schema`** - JSON Schema defining the structure and UI rendering
- **`transform`** - Optional function to convert settings to agent-specific options
- **`placement`** - UI placement configuration (default: `'dropdown-item'`)

### Schema Definition

```typescript
interface AgentRuntimeSettingsSchema {
  type: 'object';
  properties: Record<string, AgentRuntimeSettingProperty>;
}
```

### Setting Properties

Each setting property supports rich UI configuration:

```typescript
interface AgentRuntimeSettingProperty {
  type: 'boolean' | 'string' | 'number';
  title?: string;
  default?: any;
  enum?: string[];
  enumLabels?: string[];
  description?: string;
  icon?: string;
  placement?: 'dropdown-item' | 'chat-bottom';
  visible?: AgentRuntimeSettingVisibilityCondition;
}
```

#### Key Features

- **Enum Support** - Use `enum` for dropdown options with `enumLabels` for display names
- **Conditional Visibility** - Show/hide settings based on other setting values
- **UI Placement** - Control where settings appear in the interface
- **Icons** - Add visual indicators for better UX

### Visibility Conditions

Make settings conditionally visible based on other setting values:

```typescript
interface AgentRuntimeSettingVisibilityCondition {
  dependsOn: string;
  when: any;
}
```

### Example Configuration

```typescript
const runtimeSettings: AgentRuntimeSettings = {
  schema: {
    type: 'object',
    properties: {
      model: {
        type: 'string',
        title: 'Model',
        enum: ['gpt-4', 'gpt-3.5-turbo', 'claude-3'],
        enumLabels: ['GPT-4', 'GPT-3.5 Turbo', 'Claude 3'],
        default: 'gpt-4',
        icon: 'model',
        description: 'Choose the AI model for this Agent'
      },
      temperature: {
        type: 'number',
        title: 'Temperature',
        default: 0.7,
        description: 'Controls randomness in responses'
      },
      enableTools: {
        type: 'boolean',
        title: 'Enable Tools',
        default: true,
        description: 'Allow Agent to use external tools'
      },
      toolMode: {
        type: 'string',
        title: 'Tool Mode',
        enum: ['auto', 'manual'],
        enumLabels: ['Automatic', 'Manual'],
        default: 'auto',
        visible: {
          dependsOn: 'enableTools',
          when: true
        }
      }
    }
  },
  transform: (settings) => ({
    model: { id: settings.model },
    temperature: settings.temperature,
    tools: settings.enableTools ? { mode: settings.toolMode } : undefined
  }),
  placement: 'dropdown-item'
};
```

### UI Placement Options

- **`dropdown-item`** - Settings appear in a dropdown menu (default)
- **`chat-bottom`** - Settings appear at the bottom of the chat interface

### Transform Function

The optional `transform` function converts UI setting values into Agent-specific options:

```typescript
transform: (runtimeSettings) => {
  return {
    model: { id: runtimeSettings.model },
    temperature: runtimeSettings.temperature,
    // Convert UI values to Agent options format
  };
}
```

## Coming Soon

Additional API documentation is under development:

- Server constructor options
- HTTP endpoints
- WebSocket events
- Response schemas

For now, see [Server Guide](/guide/deployment/server) for usage examples.
