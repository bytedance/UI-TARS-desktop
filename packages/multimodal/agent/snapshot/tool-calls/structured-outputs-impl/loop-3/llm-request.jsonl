{
  "provider": "volcengine",
  "request": {
    "provider": "volcengine",
    "messages": [
      {
        "role": "system",
        "content": "You are an intelligent assistant that can use provided tools to answer user questions.\nPlease use tools when needed to get information, don't make up answers.\nProvide concise and accurate responses.\n\nCurrent time: 5/20/2025, 10:00:00 AM\n\nAVAILABLE TOOLS:\n\nTool name: getCurrentLocation\nDescription: Get user's current location\nParameters: {\n  \"type\": \"object\",\n  \"properties\": {}\n}\n\n\nTool name: getWeather\nDescription: Get weather information for a specified location\nParameters: {\n  \"type\": \"object\",\n  \"properties\": {\n    \"location\": {\n      \"type\": \"string\",\n      \"description\": \"Location name, such as city name\"\n    }\n  },\n  \"required\": [\n    \"location\"\n  ]\n}\n\n\nWhen you need to use a tool:\n1. First clearly think about what information you need and why\n2. Then respond with a structured JSON object with the following format:\n{\n  \"thought\": \"Your detailed reasoning about what you need and why\",\n  \"toolCall\": {\n    \"name\": \"the_exact_tool_name\",\n    \"args\": {\n      // The arguments as required by the tool's parameter schema\n    }\n  }\n}\n\nIf you want to provide a final answer instead of calling a tool:\n{\n  \"thought\": \"Your detailed reasoning for your final answer (optional)\",\n  \"finalAnswer\": \"Your complete and helpful response to the user\"\n}"
      },
      {
        "role": "user",
        "content": "How's the weather today?"
      },
      {
        "role": "assistant",
        "content": "To get the weather today, I need the user's current location first. Using getCurrentLocation will provide that information, which is necessary before querying the weather. So I'll call getCurrentLocation to retrieve the location.",
        "tool_calls": [
          {
            "id": "call_1748091191138_sn893",
            "type": "function",
            "function": {
              "name": "getCurrentLocation",
              "arguments": "{}"
            }
          }
        ]
      },
      {
        "role": "tool",
        "tool_call_id": "call_1748091191138_sn893",
        "name": "getCurrentLocation",
        "content": "[{\"type\":\"text\",\"text\":\"{\\n  \\\"location\\\": \\\"Boston\\\"\\n}\"}]"
      },
      {
        "role": "assistant",
        "content": "Now that we have the location 'Boston' from getCurrentLocation, we need to use getWeather with this location to get today's weather. So call getWeather with location set to Boston.",
        "tool_calls": [
          {
            "id": "call_1748091192378_t2dwu",
            "type": "function",
            "function": {
              "name": "getWeather",
              "arguments": "{\"location\":\"Boston\"}"
            }
          }
        ]
      },
      {
        "role": "tool",
        "tool_call_id": "call_1748091192378_t2dwu",
        "name": "getWeather",
        "content": "[{\"type\":\"text\",\"text\":\"{\\n  \\\"location\\\": \\\"Boston\\\",\\n  \\\"temperature\\\": \\\"70°F (21°C)\\\",\\n  \\\"condition\\\": \\\"Sunny\\\",\\n  \\\"precipitation\\\": \\\"10%\\\",\\n  \\\"humidity\\\": \\\"45%\\\",\\n  \\\"wind\\\": \\\"5 mph\\\"\\n}\"}]"
      }
    ],
    "model": "ep-20250512165931-2c2ln",
    "temperature": 0.7,
    "stream": true,
    "response_format": {
      "type": "json_schema",
      "json_schema": {
        "name": "agent_response_schema",
        "strict": true,
        "schema": {
          "type": "object",
          "properties": {
            "thought": {
              "type": "string",
              "description": "Your detailed reasoning process"
            },
            "toolCall": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "The exact name of the tool to call"
                },
                "args": {
                  "type": "object",
                  "description": "The arguments for the tool call"
                }
              },
              "required": [
                "name",
                "args"
              ]
            },
            "finalAnswer": {
              "type": "string",
              "description": "Your final answer to the user if not calling a tool"
            }
          },
          "oneOf": [
            {
              "required": [
                "toolCall"
              ]
            },
            {
              "required": [
                "finalAnswer"
              ]
            }
          ]
        }
      }
    },
    "thinking": {
      "type": "disabled"
    }
  },
  "baseURL": "https://ark.cn-beijing.volces.com/api/v3"
}